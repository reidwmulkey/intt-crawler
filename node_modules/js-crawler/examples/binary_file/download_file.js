//Serve the file from the root of the project, for example with PHP: php -S 127.0.0.1:8081

var Crawler = require('../../crawler.js');

var fs = require('fs');
var filepath = 'read_file.pdf';
var crawler = new Crawler().configure({ignoreRelative: false, depth: 3});

crawler.crawl({
  url: 'http://127.0.0.1:8080/examples/binary_file/index.html',
  success: function(page) {
    console.log("Loaded page. URL = " + page.url + " content length = " + page.content.length + " status = " + page.status);
    //fs.writeFileSync(filepath, page.content, 'binary');
  },
  failure: function(page) {
    console.log("Could not load page. URL = " +  page.url + " error = " + page.error);
  },
  finished: function(crawledUrls) {
    console.log('All crawled = ', crawledUrls);
  }
});